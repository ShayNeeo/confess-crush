# README: HÃ nh TrÃ¬nh Khai PhÃ¡ Dá»¯ Liá»‡u KhÃ¡ch HÃ ng SÃ n TMÄT - Sá»© Má»‡nh DAZONE 2025 VÃ²ng 2.2

ChÃ o cÃ¡c chiáº¿n binh dá»¯ liá»‡u cá»§a Ä‘á»™i! ChÃºng ta Ä‘ang Ä‘á»©ng trÆ°á»›c má»™t thá»­ thÃ¡ch lá»›n tá»« "Sáº¿p Tá»•ng" táº¡i cuá»™c thi DAZONE 2025: lÃ m sao Ä‘á»ƒ sÃ n thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ cá»§a chÃºng ta giá»¯ chÃ¢n Ä‘Æ°á»£c khÃ¡ch hÃ ng, khiáº¿n há» quay láº¡i mua sáº¯m? File Python nÃ y chÃ­nh lÃ  "báº£o bá»‘i" vÃ  "kim chá»‰ nam" cá»§a Ä‘á»™i trong hÃ nh trÃ¬nh khÃ¡m phÃ¡ nhá»¯ng bÃ­ máº­t áº©n sÃ¢u trong dá»¯ liá»‡u khÃ¡ch hÃ ng. HÃ£y cÃ¹ng nhau giáº£i mÃ£ nÃ³ vÃ  mang vá» chiáº¿n tháº¯ng nhÃ©! ğŸš€

## Má»¥c Lá»¥c

1. [Nhiá»‡m Vá»¥ BÃ­ Máº­t: Hiá»ƒu LÃ²ng KhÃ¡ch HÃ ng, Giá»¯ ChÃ¢n Doanh Thu](#nhiá»‡m-vá»¥-bÃ­-máº­t-hiá»ƒu-lÃ²ng-khÃ¡ch-hÃ ng-giá»¯-chÃ¢n-doanh-thu)
2. [KÃ­ch Hoáº¡t "Cá»— MÃ¡y Thá»i Gian": HÆ°á»›ng Dáº«n Váº­n HÃ nh Script](#kÃ­ch-hoáº¡t-cá»—-mÃ¡y-thá»i-gian-hÆ°á»›ng-dáº«n-váº­n-hÃ nh-script)
3. [Báº£n Thiáº¿t Káº¿ "Cá»— MÃ¡y": Cáº¥u TrÃºc Script vÃ  CÃ¢u Chuyá»‡n Äáº±ng Sau](#báº£n-thiáº¿t-káº¿-cá»—-mÃ¡y-cáº¥u-trÃºc-script-vÃ -cÃ¢u-chuyá»‡n-Ä‘áº±ng-sau)
   * [Tá»•ng Quan Lá»™ TrÃ¬nh KhÃ¡m PhÃ¡](#tá»•ng-quan-lá»™-trÃ¬nh-khÃ¡m-phÃ¡)
   * [ChÆ°Æ¡ng 1: Thu Tháº­p ThÃ´ng Tin TÃ¬nh BÃ¡o - Chuáº©n Bá»‹ Dá»¯ Liá»‡u](#chÆ°Æ¡ng-1-thu-tháº­p-thÃ´ng-tin-tÃ¬nh-bÃ¡o---chuáº©n-bá»‹-dá»¯-liá»‡u)
   * [ChÆ°Æ¡ng 2: Cháº¿ Táº¡o Quáº£ Cáº§u TiÃªn Tri - XÃ¢y Dá»±ng vÃ  ÄÃ¡nh GiÃ¡ Model](#chÆ°Æ¡ng-2-cháº¿-táº¡o-quáº£-cáº§u-tiÃªn-tri---xÃ¢y-dá»±ng-vÃ -Ä‘Ã¡nh-giÃ¡-model)
   * [ChÆ°Æ¡ng 3: Äá»c Vá»‹ Quáº£ Cáº§u & PhÃ¢n Loáº¡i "Chiáº¿n Binh" - PhÃ¢n TÃ­ch SÃ¢u vÃ  Táº¡o ChÃ¢n Dung KhÃ¡ch HÃ ng](#chÆ°Æ¡ng-3-Ä‘á»c-vá»‹-quáº£-cáº§u--phÃ¢n-loáº¡i-chiáº¿n-binh---phÃ¢n-tÃ­ch-sÃ¢u-vÃ -táº¡o-chÃ¢n-dung-khÃ¡ch-hÃ ng)
4. [ÄÃ¡p Ãn Cho "Sáº¿p Tá»•ng": Äá»‘i Chiáº¿u Vá»›i Barem Cháº¥m Äiá»ƒm DAZONE 2025](#Ä‘Ã¡p-Ã¡n-cho-sáº¿p-tá»•ng-Ä‘á»‘i-chiáº¿u-vá»›i-barem-cháº¥m-Ä‘iá»ƒm-dazone-2025)
5. [BÃ¡o CÃ¡o Chiáº¿n CÃ´ng LÃªn "Bá»™ Chá»‰ Huy": Gá»£i Ã Trá»±c Quan HÃ³a Cho BÃ i Thuyáº¿t TrÃ¬nh](#bÃ¡o-cÃ¡o-chiáº¿n-cÃ´ng-lÃªn-bá»™-chá»‰-huy-gá»£i-Ã½-trá»±c-quan-hÃ³a-cho-bÃ i-thuyáº¿t-trÃ¬nh)
6. [ThÃ´ng Äiá»‡p Tá»« "Chá»‰ Huy TrÆ°á»Ÿng" Äá»™i Äáº·c Nhiá»‡m](#thÃ´ng-Ä‘iá»‡p-tá»«-chá»‰-huy-trÆ°á»Ÿng-Ä‘á»™i-Ä‘áº·c-nhiá»‡m)

## Nhiá»‡m Vá»¥ BÃ­ Máº­t: Hiá»ƒu LÃ²ng KhÃ¡ch HÃ ng, Giá»¯ ChÃ¢n Doanh Thu

SÃ n thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ cá»§a chÃºng ta cÃ³ hÃ ng triá»‡u khÃ¡ch hÃ ng. NhÆ°ng, ai trong sá»‘ há» sáº½ thá»±c sá»± gáº¯n bÃ³ vÃ  quay láº¡i mua hÃ ng táº¡i má»™t gian hÃ ng cá»¥ thá»ƒ trong 6 thÃ¡ng tá»›i? ÄÃ¢y khÃ´ng chá»‰ lÃ  má»™t cÃ¢u há»i, mÃ  lÃ  má»™t "nhiá»‡m vá»¥ tá»‘i máº­t" áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n doanh thu vÃ  sá»± phÃ¡t triá»ƒn bá»n vá»¯ng. Náº¿u chÃºng ta biáº¿t Ä‘Æ°á»£c Ä‘iá»u nÃ y, chÃºng ta cÃ³ thá»ƒ:

* ChÄƒm sÃ³c Ä‘Ãºng ngÆ°á»i, Ä‘Ãºng lÃºc.
* Tung ra cÃ¡c chÆ°Æ¡ng trÃ¬nh khuyáº¿n mÃ£i hiá»‡u quáº£ hÆ¡n.
* Biáº¿n khÃ¡ch hÃ ng má»›i thÃ nh khÃ¡ch hÃ ng trung thÃ nh.

"Cá»— mÃ¡y thá»i gian" (script Python nÃ y) sáº½ giÃºp chÃºng ta giáº£i quyáº¿t nhiá»‡m vá»¥ nÃ y báº±ng cÃ¡ch:

1. **"Thu tháº­p vÃ  lÃ m sáº¡ch cÃ¡c máº£nh ghÃ©p quÃ¡ khá»©"**: Chuáº©n bá»‹ dá»¯ liá»‡u giao dá»‹ch vÃ  thÃ´ng tin khÃ¡ch hÃ ng.
2. **"Cháº¿ táº¡o cÃ¡c phiÃªn báº£n quáº£ cáº§u tiÃªn tri"**: XÃ¢y dá»±ng cÃ¡c mÃ´ hÃ¬nh dá»± Ä‘oÃ¡n.
3. **"Kiá»ƒm tra Ä‘á»™ chÃ­nh xÃ¡c cá»§a tá»«ng quáº£ cáº§u"**: ÄÃ¡nh giÃ¡ model nÃ o "phÃ¡n" chuáº©n nháº¥t.
4. **"Nháº­n diá»‡n cÃ¡c nhÃ³m chiáº¿n binh mua sáº¯m"**: PhÃ¢n loáº¡i khÃ¡ch hÃ ng dá»±a trÃªn hÃ nh vi vÃ  Ä‘áº·c Ä‘iá»ƒm.
5. **"Váº¡ch ra káº¿ hoáº¡ch tÃ¡c chiáº¿n"**: Äá» xuáº¥t cÃ¡c chiáº¿n lÆ°á»£c kinh doanh thÃ´ng minh.

## KÃ­ch Hoáº¡t "Cá»— MÃ¡y Thá»i Gian": HÆ°á»›ng Dáº«n Váº­n HÃ nh Script

Äá»ƒ "cá»— mÃ¡y" cá»§a chÃºng ta báº¯t Ä‘áº§u hÃ nh trÃ¬nh xuyÃªn khÃ´ng vá» quÃ¡ khá»© vÃ  dá»± Ä‘oÃ¡n tÆ°Æ¡ng lai, cáº£ Ä‘á»™i cáº§n chuáº©n bá»‹:

1. **"Trang bá»‹ cÃ¡ nhÃ¢n" (MÃ´i trÆ°á»ng):** MÃ¡y tÃ­nh Ä‘Æ°á»£c cÃ i Python vÃ  cÃ¡c "vÅ© khÃ­" cáº§n thiáº¿t (thÆ° viá»‡n) nhÆ° `pandas`, `numpy` (Ä‘á»ƒ xá»­ lÃ½ sá»‘ liá»‡u), `matplotlib`, `seaborn` (Ä‘á»ƒ váº½ biá»ƒu Ä‘á»“), `scikit-learn` (bá»™ cÃ´ng cá»¥ xÃ¢y model), `imblearn` (Ä‘á»ƒ cÃ¢n báº±ng lá»±c lÆ°á»£ng cÃ¡c nhÃ³m khÃ¡ch hÃ ng), `xgboost`, `lightgbm` (2 "chiáº¿n mÃ£" máº¡nh máº½), vÃ  `shap` (kÃ­nh lÃºp soi tháº¥u model).

2. **"Báº£n Ä‘á»“ kho bÃ¡u cá»•" (Dá»¯ liá»‡u Ä‘áº§u vÃ o):** CÃ¡c file CSV Ä‘Ã£ Ä‘Æ°á»£c "lau chÃ¹i" tá»« vÃ²ng trÆ°á»›c hoáº·c tá»« script `data_cleaning.py`, cáº¥t giá»¯ trong `cleaning_results/cleaned_data/`:
   * `competition_train_features.csv`: ThÃ´ng tin huáº¥n luyá»‡n cÃ¡c "nhÃ  tiÃªn tri".
   * `competition_test_features.csv`: ThÃ´ng tin Ä‘á»ƒ "thá»­ tÃ i" cÃ¡c "nhÃ  tiÃªn tri".
   * `cleaned_user_info.csv`: Há»“ sÆ¡ chi tiáº¿t cá»§a tá»«ng khÃ¡ch hÃ ng.

3. **"Niá»‡m tháº§n chÃº" (Cháº¡y script):** Thá»±c thi file `DAZONE2025_R2.2_Main_Analysis.py`.

4. **"Chiáº¿n lá»£i pháº©m" (Káº¿t quáº£):** Má»i "bÃ­ máº­t" vÃ  "kho bÃ¡u" sáº½ Ä‘Æ°á»£c táº­p há»£p táº¡i thÆ° má»¥c `round_2.2`:
   * `model_outputs`: NÆ¡i cáº¥t giá»¯ cÃ¡c "quáº£ cáº§u tiÃªn tri" máº¡nh nháº¥t.
   * `segmentation_outputs`: "Há»“ sÆ¡ máº­t" cá»§a tá»«ng nhÃ³m khÃ¡ch hÃ ng.
   * `shap_outputs`: "Báº£n giáº£i mÃ£" cÃ¡ch "quáº£ cáº§u" Ä‘Æ°a ra dá»± Ä‘oÃ¡n.
   * `visualizations_from_main_analysis`: "Album áº£nh" ghi láº¡i nhá»¯ng khÃ¡m phÃ¡ quan trá»ng.
   * `logs`: "BiÃªn niÃªn sá»­" cá»§a cuá»™c hÃ nh trÃ¬nh.

## Báº£n Thiáº¿t Káº¿ "Cá»— MÃ¡y": Cáº¥u TrÃºc Script vÃ  CÃ¢u Chuyá»‡n Äáº±ng Sau

HÃ nh trÃ¬nh cá»§a chÃºng ta Ä‘Æ°á»£c chia thÃ nh 3 chÆ°Æ¡ng lá»›n, má»—i chÆ°Æ¡ng hÃ© lá»™ má»™t pháº§n cá»§a bá»©c tranh toÃ n cáº£nh vá» khÃ¡ch hÃ ng cá»§a sÃ n thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­.

### Tá»•ng Quan Lá»™ TrÃ¬nh KhÃ¡m PhÃ¡

ÄÃ¢y lÃ  bá»©c tranh toÃ n cáº£nh vá» hÃ nh trÃ¬nh cá»§a chÃºng ta, tá»« lÃºc báº¯t Ä‘áº§u vá»›i dá»¯ liá»‡u thÃ´ cho Ä‘áº¿n khi tÃ¬m ra nhá»¯ng "viÃªn ngá»c" insight:

```mermaid
graph TD
    A[Báº¯t Ä‘áº§u Script vá»›i Cáº¥u HÃ¬nh] --> B(ChÆ°Æ¡ng 1: Chuáº©n Bá»‹ Dá»¯ Liá»‡u);
    B -- Dá»¯ liá»‡u Ä‘Ã£ Tiá»n xá»­ lÃ½, Chia TrainVal, Scale, SMOTE --> C(ChÆ°Æ¡ng 2: Huáº¥n Luyá»‡n & ÄÃ¡nh GiÃ¡ Model);
    C -- Model Dá»± ÄoÃ¡n Tá»‘t Nháº¥t --> D(ChÆ°Æ¡ng 3: PhÃ¢n TÃ­ch SÃ¢u);
    B -- ThÃ´ng tin NgÆ°á»i dÃ¹ng, Dá»¯ liá»‡u Train sáº¡ch --> D;
    D -- SHAP, PhÃ¢n khÃºc, Personas --> E[Káº¿t thÃºc: Insights, Äá» Xuáº¥t Chiáº¿n LÆ°á»£c cho SÃ n TMÄT];
```

### ChÆ°Æ¡ng 1: Thu Tháº­p ThÃ´ng Tin TÃ¬nh BÃ¡o - Chuáº©n Bá»‹ Dá»¯ Liá»‡u

Trong chÆ°Æ¡ng nÃ y, chÃºng ta nhÆ° nhá»¯ng nhÃ  kháº£o cá»•, cáº©n tháº­n thu tháº­p tá»«ng máº£nh vá»¡ thÃ´ng tin, lÃ m sáº¡ch vÃ  sáº¯p xáº¿p chÃºng Ä‘á»ƒ chuáº©n bá»‹ cho viá»‡c tÃ¡i táº¡o láº¡i bá»©c tranh quÃ¡ khá»© vÃ  dá»± Ä‘oÃ¡n tÆ°Æ¡ng lai. ÄÃ¢y lÃ  ná»n mÃ³ng cá»§a má»i phÃ¢n tÃ­ch!

* **Khai BÃ¡o "Dá»¥ng Cá»¥ Kháº£o Cá»•" (Import Libraries)**
* **Thiáº¿t Láº­p "Khu Vá»±c Khai Quáº­t" (Configuration)**
* **Táº¡o CÃ¡c "Háº§m TrÆ°ng BÃ y" (Output Directory Setup)**
* **Ghi "Nháº­t KÃ½ Kháº£o Cá»•" (Logging Setup)**
* **Thu Tháº­p "Cá»• Váº­t" (Load Data)**
* **"GiÃ¡m Äá»‹nh SÆ¡ Bá»™ Cá»• Váº­t" (Initial Data Exploration):** Váº½ biá»ƒu Ä‘á»“ trÃ²n xem tá»· lá»‡ khÃ¡ch hÃ ng quay láº¡i/khÃ´ng quay láº¡i.
* **"LÃ m Sáº¡ch vÃ  Phá»¥c Cháº¿ Cá»• Váº­t" (Data Preparation for Modeling):** ÄÃ¢y lÃ  má»™t quy trÃ¬nh tá»‰ má»‰:

```mermaid
graph TD
    subgraph Quy TrÃ¬nh Tiá»n Xá»­ LÃ½ Dá»¯ Liá»‡u
        A[Táº£i Dá»¯ Liá»‡u Features Train vÃ  Test] --> B(Loáº¡i bá» cá»™t ngÃ y thÃ¡ng thÃ´);
        B --> C[Äiá»n giÃ¡ trá»‹ NaN];
        C -- Sá»‘ Ä‘iá»n median hoáº·c 0, Chá»¯ Ä‘iá»n Unknown --> D[MÃ£ hÃ³a Label Encoding cho cá»™t chá»¯];
        D -- LÆ°u trá»¯ Báº£ng mÃ£ Label Encoders --> E[Xá»­ lÃ½ giÃ¡ trá»‹ VÃ´ cá»±c];
        E --> F[Dá»¯ liá»‡u Sáº¡ch Sáºµn SÃ ng];
        F --> G[Chia Táº­p Huáº¥n Luyá»‡n vÃ  Kiá»ƒm Chá»©ng];
        G --> H[StandardScaler Äá»“ng bá»™ hÃ³a thang Ä‘o];
        H --> I[SMOTE CÃ¢n báº±ng X_train_scaled vÃ  y_train];
        I --> J[Dá»¯ liá»‡u sáºµn sÃ ng cho Huáº¥n luyá»‡n Model];
        H --> K[LÆ°u X_train_scaled gá»‘c cho Tuning];
    end
```

* **Chuáº©n Bá»‹ Sáºµn CÃ¡c "Báº£n PhÃ¡c Tháº£o Quáº£ Cáº§u" (Model Options Storage)**
* **Dá»n Dáº¹p "PhÃ²ng ThÃ­ Nghiá»‡m" (Memory Management)**

### ChÆ°Æ¡ng 2: "Cháº¿ Táº¡o Quáº£ Cáº§u TiÃªn Tri" - XÃ¢y Dá»±ng vÃ  ÄÃ¡nh GiÃ¡ Model

Sau khi "nguyÃªn liá»‡u" Ä‘Ã£ sáºµn sÃ ng, cÃ¡c "phÃ¡p sÆ° dá»¯ liá»‡u" cá»§a chÃºng ta báº¯t tay vÃ o viá»‡c cháº¿ táº¡o vÃ  thá»­ nghiá»‡m nhá»¯ng "quáº£ cáº§u tiÃªn tri" cÃ³ kháº£ nÄƒng nhÃ¬n tháº¥u tÆ°Æ¡ng lai.

* **HÃ m "Tháº©m Äá»‹nh Quáº£ Cáº§u" (`evaluate_model_performance`):** "Há»™i Ä‘á»“ng giÃ¡m kháº£o" ná»™i bá»™ cá»§a chÃºng ta, chuyÃªn cháº¥m Ä‘iá»ƒm cÃ¡c "quáº£ cáº§u".

* **Luá»“ng Cháº¿ Táº¡o vÃ  Thá»­ Nghiá»‡m "Quáº£ Cáº§u":**
  * **Quy TrÃ¬nh Chuáº©n cho má»—i "Quáº£ Cáº§u" Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ ban Ä‘áº§u:**
    ```mermaid
    graph LR
        A[Dá»¯ liá»‡u huáº¥n luyá»‡n Ä‘Ã£ chuáº©n bá»‹] --> B(SMOTE CÃ¢n báº±ng lá»±c lÆ°á»£ng);
        B --> C[ThÃ´i miÃªn Quáº£ Cáº§u trÃªn X_train_smote];
        C --> D[Thá»­ tÃ i Quáº£ Cáº§u trÃªn X_val_scaled];
        D --> E[Káº¿t quáº£ Äiá»ƒm sá»‘ vÃ  Biá»ƒu Ä‘á»“];
    ```
  * **Quy TrÃ¬nh "MÃ i GiÅ©a Quáº£ Cáº§u" (Hyperparameter Tuning):**
    ```mermaid
    graph TD
        subgraph Quy TrÃ¬nh Tinh Chá»‰nh SiÃªu Tham Sá»‘
            A[Chá»n Model Tá»‘t Nháº¥t Ban Äáº§u] --> B{CÃ³ Grid Tham Sá»‘ cho Model nÃ y};
            B -- CÃ³ --> C[XÃ¡c Ä‘á»‹nh Model Instance vÃ  Dáº£i Tham Sá»‘];
            C --> D[Sá»­ dá»¥ng X_train_scaled vÃ  y_train gá»‘c];
            D -- Truyá»n Class Weight hoáº·c Scale Pos Weight --> E(RandomizedSearchCV TÃ¬m Cáº¥u HÃ¬nh Tá»‘t Nháº¥t);
            E --> F[ÄÃ¡nh giÃ¡ Model ÄÃ£ Tinh Chá»‰nh trÃªn X_val_scaled];
            F --> G{Hiá»‡u suáº¥t cÃ³ cáº£i thiá»‡n};
            G -- CÃ³ --> H[Cáº­p nháº­t lÃ  Model Tá»‘t Nháº¥t Hiá»‡n Táº¡i];
            G -- KhÃ´ng --> I[Giá»¯ Model Gá»‘c Tá»‘t HÆ¡n];
        end
    ```

* **Hai "LÃ² RÃ¨n Tháº§n KhÃ­" (Two Modeling Options):**

  * **LÃ² RÃ¨n 1: Táº­p Trung RÃ¨n GiÅ©a Nhá»¯ng "Tháº§n KhÃ­" ÄÃ£ CÃ³ Tiáº¿ng TÄƒm (Opt1 Models)**
    * *Chiáº¿n thuáº­t:* Má»i cÃ¡c "thá»£ rÃ¨n báº­c tháº§y" (`LightGBM_Opt1`, `RandomForest_Opt1`, `XGBoost_Opt1`, `LogisticRegression_Opt1`) Ä‘áº¿n Ä‘á»ƒ cháº¿ táº¡o "vÅ© khÃ­" theo cÃ´ng thá»©c cÆ¡ báº£n cá»§a há».
    * *Má»¥c tiÃªu:* Xem xÃ©t nhanh hiá»‡u suáº¥t cá»§a cÃ¡c model máº¡nh vá»›i cáº¥u hÃ¬nh tiÃªu chuáº©n, phÃ¹ há»£p vá»›i tá»«ng cáº¥p Ä‘á»™ thá»­ thÃ¡ch.
    * *Luá»“ng cÃ´ng viá»‡c:*
      ```mermaid
      graph TD
          A[Dá»¯ liá»‡u Ä‘Ã£ sÆ¡ cháº¿ vÃ  SMOTE] --> B1[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ LightGBM_Opt1];
          A --> B2[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ RandomForest_Opt1];
          A --> B3[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ XGBoost_Opt1];
          A --> B4[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ LogisticRegression_Opt1];
          B1 & B2 & B3 & B4 --> C[Tá»•ng há»£p káº¿t quáº£ Option 1];
      ```

  * **LÃ² RÃ¨n 2: Tá»• Chá»©c "ThiÃªn Háº¡ Äá»‡ Nháº¥t LÃ² RÃ¨n" (Comp Models - Comparative Analysis)**
    * *Chiáº¿n thuáº­t:* Má»Ÿ má»™t "Ä‘áº¡i há»™i vÃµ lÃ¢m" cho nhiá»u "thá»£ rÃ¨n" tá»« cÃ¡c "mÃ´n phÃ¡i" khÃ¡c nhau, xem ai rÃ¨n ra "tháº§n khÃ­" lá»£i háº¡i nháº¥t.
    * *Má»¥c tiÃªu:* So sÃ¡nh má»™t loáº¡t thuáº­t toÃ¡n Ä‘a dáº¡ng Ä‘á»ƒ tÃ¬m ra "chÃ¢n má»‡nh thiÃªn tá»­".
    * *Luá»“ng cÃ´ng viá»‡c:*
      ```mermaid
      graph TD
          A[Dá»¯ liá»‡u Ä‘Ã£ sÆ¡ cháº¿ vÃ  SMOTE] --> B[So SÃ¡nh Äá»“ng Loáº¡t Nhiá»u Models];
          B --> LR[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ LR_Comp];
          B --> RF[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ RF_Comp];
          B --> XGB[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ XGB_Comp];
          B --> LGBM[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ LGBM_Comp];
          B --> SVC[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ SVC_Comp];
          B --> MLP[Huáº¥n luyá»‡n vÃ  ÄÃ¡nh giÃ¡ MLP_Comp];
          LR & RF & XGB & LGBM & SVC & MLP --> C[Tá»•ng há»£p káº¿t quáº£ Option 2];
          C --> D[So sÃ¡nh vÃ  chá»n Model ná»•i báº­t tá»« Option 2];
      ```

* **CÃ´ng Bá»‘ "Báº£ng VÃ ng" vÃ  Chá»n "VÃµ Tráº¡ng NguyÃªn" (Model Comparison, Best Model Before Tuning)**
* **"Báº¿ Quan Luyá»‡n CÃ´ng" Cho "VÃµ Tráº¡ng NguyÃªn" (Hyperparameter Tuning)**
* **"Tháº§n KhÃ­ Xuáº¥t Tháº¿" (Final Best Model) vÃ  "Yáº¿u Quyáº¿t VÃµ CÃ´ng" (Feature Importance)**

### ChÆ°Æ¡ng 3: "Äá»c Vá»‹ Quáº£ Cáº§u" & PhÃ¢n Loáº¡i "Chiáº¿n Binh" - PhÃ¢n TÃ­ch SÃ¢u vÃ  Táº¡o ChÃ¢n Dung KhÃ¡ch HÃ ng

Khi Ä‘Ã£ cÃ³ "tháº§n khÃ­" trong tay, chÃºng ta cáº§n hiá»ƒu rÃµ sá»©c máº¡nh cá»§a nÃ³ vÃ  dÃ¹ng nÃ³ Ä‘á»ƒ "nhÃ¬n tháº¥u" tÃ¢m can cá»§a tá»«ng nhÃ³m khÃ¡ch hÃ ng, tá»« Ä‘Ã³ Ä‘Æ°a ra nhá»¯ng chiáº¿n lÆ°á»£c phÃ¹ há»£p cho sÃ n thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­.

* **I. "Soi GÆ°Æ¡ng Ma Thuáº­t" - Hiá»ƒu CÃ¡ch "Quáº£ Cáº§u" Suy NghÄ© (SHAP Analysis):**
  * *Má»¥c tiÃªu:* "Quáº£ cáº§u tiÃªn tri" khÃ´ng cÃ²n lÃ  má»™t há»™p Ä‘en bÃ­ áº©n ná»¯a! SHAP giÃºp chÃºng ta hiá»ƒu rÃµ tá»«ng "luá»“ng suy nghÄ©" cá»§a nÃ³.
  * *Luá»“ng cÃ´ng viá»‡c:*
    ```mermaid
    graph TD
        A[Model Tá»‘t Nháº¥t Cuá»‘i CÃ¹ng] --> B[Láº¥y Máº«u Dá»¯ Liá»‡u X_val_scaled];
        A --> C{Model thuá»™c loáº¡i Tree-based};
        C -- CÃ³ --> D[Sá»­ dá»¥ng SHAP TreeExplainer];
        C -- KhÃ´ng, cÃ³ predict_proba --> E[Sá»­ dá»¥ng SHAP KernelExplainer];
        E -- Cáº§n dá»¯ liá»‡u ná»n --> D;
        D --> F[TÃ­nh toÃ¡n SHAP Values];
        F --> G[Váº½ Biá»ƒu Äá»“ SHAP Summary];
        G --> H[LÆ°u Káº¿t Quáº£ Äá»™ Quan Trá»ng SHAP];
    ```

* **II. "Äiá»ƒm Binh KhÃ¡ch HÃ ng" - PhÃ¢n Loáº¡i KhÃ¡ch HÃ ng ThÃ´ng Minh (User Segmentation - K-Means Clustering):**
  * *Má»¥c tiÃªu:* KhÃ´ng pháº£i khÃ¡ch hÃ ng nÃ o cÅ©ng giá»‘ng nhau. ChÃºng ta sáº½ chia há» thÃ nh cÃ¡c "biá»‡t Ä‘á»™i" cÃ³ cÃ¹ng "chÃ­ hÆ°á»›ng" vÃ  "phong cÃ¡ch".
  * *Luá»“ng cÃ´ng viá»‡c:*
    ```mermaid
    graph TD
        A[Dá»¯ Liá»‡u KhÃ¡ch HÃ ng Tá»•ng Há»£p] --> B[Káº¿t há»£p ThÃ´ng Tin NhÃ¢n Kháº©u Há»c];
        B --> C[Tiá»n Xá»­ LÃ½ Dá»¯ Liá»‡u cho Clustering];
        C -- Dá»¯ liá»‡u Ä‘Ã£ Scale --> D{TÃ­nh Inertia vÃ  Silhouette Scores};
        D -- Cho cÃ¡c giÃ¡ trá»‹ k khÃ¡c nhau --> E[Váº½ Äá»“ Thá»‹ Elbow vÃ  Silhouette];
        E --> F{Chá»n optimal_k theo K_SELECTION_METHOD};
        F -- optimal_k --> G[Cháº¡y K-Means vá»›i optimal_k];
        G --> H[GÃ¡n NhÃ£n Cá»¥m cho KhÃ¡ch HÃ ng];
        H --> I[Profiling Cá»¥m PhÃ¢n tÃ­ch Ä‘áº·c Ä‘iá»ƒm tá»«ng cá»¥m];
        I --> J[LÆ°u Káº¿t Quáº£ PhÃ¢n Cá»¥m];
    ```

* **III. "Phong TÆ°á»›c Hiá»‡u" Cho CÃ¡c "Biá»‡t Äá»™i" (Persona Assignment):** Dá»±a trÃªn Ä‘áº·c Ä‘iá»ƒm cá»§a tá»«ng "biá»‡t Ä‘á»™i", chÃºng ta Ä‘áº·t cho há» nhá»¯ng "biá»‡t danh" thá»ƒ hiá»‡n rÃµ báº£n cháº¥t (vÃ­ dá»¥: "Äáº¡i Gia Mua Sáº¯m", "Thá»£ SÄƒn Khuyáº¿n MÃ£i", "KhÃ¡ch HÃ ng Tiá»m NÄƒng Ngá»§ ÄÃ´ng").

* **IV. "Cáº©m Nang ThÆ°á»£ng SÃ¡ch" Cho SÃ n TMÄT (Business Insights & Recommendations):** Tá»« nhá»¯ng gÃ¬ "quáº£ cáº§u" tiáº¿t lá»™ vÃ  cÃ¡c "biá»‡t Ä‘á»™i" Ä‘Æ°á»£c hÃ¬nh thÃ nh, chÃºng ta sáº½ viáº¿t nÃªn nhá»¯ng "káº¿ sÃ¡ch" giÃºp sÃ n TMÄT tÄƒng doanh thu, giá»¯ chÃ¢n khÃ¡ch hÃ ng.

* **V. "BÃ¡o CÃ¡o Tá»•ng Lá»±c LÆ°á»£ng" vÃ  "Káº¿ Hoáº¡ch Má»Ÿ Rá»™ng Bá» CÃµi" (Final Summary & Next Steps).**

